jdk:
  - openjdk11
  
stages:
  - buildAutomation
  - continousIntegration
  - continousDelivery
  - continousDeployment
  

before_install:
  - chmod +x gradlew
    
jobs:
  include:
    - stage: buildAutomation
      script: ./gradlew test --tests '*unit*'
    - stage: continousIntegration
      script: ./gradlew test --tests '*integration*'
    - stage: continousDelivery
      deploy:
        provider: heroku
        api-key: $HEROKU_API_KEY
        app: yagan93
      after_success:
      # run newman skripts
    - stage: continousDeployment
      


